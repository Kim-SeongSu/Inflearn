# 05. ì˜ì¡´ê´€ê³„ ìë™ ì£¼ì…

### ğŸ”· **ë‹¤ì–‘í•œ ì˜ì¡´ê´€ê³„ ì£¼ì… ë°©ë²•**
>ã…¤âœ… **ê¸°ë³¸ìœ¼ë¡œ ìƒì„±ì ì£¼ì…ì„ ì‚¬ìš©í•˜ê³ , í•„ìˆ˜ ê°’ì´ ì•„ë‹Œ ê²½ìš°ì—ëŠ” ìˆ˜ì •ì ì£¼ì… ë°©ì‹ì„ ì˜µì…˜ìœ¼ë¡œ ë¶€ì—¬í•˜ë©´ ëœë‹¤.** <br>

ã…¤ã…¤**1ï¸âƒ£ ìƒì„±ì ì£¼ì… (ê¶Œì¥!)** <br>
ã…¤ã…¤ã…¤ğŸ”¹ **ë¶ˆë³€, í•„ìˆ˜ ì˜ì¡´ê´€ê³„ì— ì‚¬ìš©** <br>
ã…¤ã…¤ã…¤ã…¤ã…¤- ìƒì„±ì ì£¼ì…ì„ ì‚¬ìš©í•˜ë©´ **ì£¼ì… ë°ì´í„°ë¥¼ ëˆ„ë½ í–ˆì„ ë•Œ ì»´íŒŒì¼ ì˜¤ë¥˜ ë°œìƒ** <br>
ã…¤ã…¤ã…¤ã…¤ã…¤- ìƒì„±ì ì£¼ì…ì„ ì‚¬ìš©í•˜ë©´ í•„ë“œì— **`final` í‚¤ì›Œë“œë¥¼ ì‚¬ìš© ê°€ëŠ¥** <br>
ã…¤ã…¤ã…¤ğŸ”¹ **ìƒì„±ì í˜¸ì¶œì‹œì ì— ë”± 1ë²ˆë§Œ í˜¸ì¶œë˜ëŠ” ê²ƒì´ ë³´ì¥ ë¨** <br>
ã…¤ã…¤ã…¤ã…¤â—**ìƒì„±ìê°€ ë”± 1ê°œë§Œ ìˆìœ¼ë©´ @Autowiredë¥¼ ìƒëµí•´ë„ ìë™ ì£¼ì… ëœë‹¤.** <br>
ã…¤ã…¤ã…¤ğŸ”¹ **í”„ë ˆì„ì›Œí¬ì— ì˜ì¡´í•˜ì§€ ì•Šê³ , ìˆœìˆ˜í•œ ìë°” ì–¸ì–´ì˜ íŠ¹ì§•ì„ ì˜ ì‚´ë¦¬ëŠ” ë°©ë²•ì„** <br>

```JAVA
@Component
public class OrderServiceimpl implements OrderService {
	private final MemberRepository memberRepository;
	private final DiscountPolicy discountPolicy;

	@Autowired // ìƒëµ ê°€ëŠ¥!
	public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
		this.memberRepository = memberRepository;
		this.discountPolicy = discountPolicy;
	}
}
```
<br><br>

ã…¤ã…¤**2ï¸âƒ£ ìˆ˜ì •ì ì£¼ì…(setter ì£¼ì…)** <br>
ã…¤ã…¤ã…¤ğŸ”¹ **ì„ íƒ, ë³€ê²½ ê°€ëŠ¥ì„±ì´ ìˆëŠ” ì˜ì¡´ê´€ê³„ì— ì‚¬ìš©** <br>
ã…¤ã…¤ã…¤ğŸ”¹ **ìë°”ë¹ˆ í”„ë¡œí¼í‹° ê·œì•½ì˜ ìˆ˜ì •ì ë©”ì„œë“œ ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•** <br>

```JAVA
@Component
public class OrderServiceImpl implements OrderService {
	private MemberRepository memberRepository;
	private DiscountPolicy discountPolicy;

	@Autowired	// ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ ì˜¤ë¥˜ê°€ ë°œìƒ. @Autowired(required = false) ë¡œ ì§€ì •í•˜ë©´ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ì–´ë„ ë™ì‘ í•¨
	public void setMemberRepository(MemberRepository memberRepository) {
		this.memberRepository = memberRepository;
	}

	@Autowired
	public void setDiscountPolicy(DiscountPolicy discountPolicy) {
		this.discountPolicy = discountPolicy;
	}
}
```
<br><br>

ã…¤ã…¤**3ï¸âƒ£** í•„ë“œ ì£¼ì… (**ì‚¬ìš© ì¶”ì²œí•˜ì§€ ì•ŠìŒ**) <br>
ã…¤ã…¤ã…¤ğŸ”¹ **ì½”ë“œê°€ ê°„ê²°í•´ì„œ ë§ì€ ê°œë°œìë“¤ì„ ìœ í˜¹í•˜ì§€ë§Œ ì™¸ë¶€ì—ì„œ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•´ì„œ í…ŒìŠ¤íŠ¸ í•˜ê¸° í˜ë“¤ë‹¤ëŠ” ì¹˜ëª…ì ì¸ ë‹¨ì ** <br>
ã…¤ã…¤ã…¤ğŸ”¹ **DI í”„ë ˆì„ì›Œí¬ê°€ ì—†ìœ¼ë©´ ì•„ë¬´ê²ƒë„ í•  ìˆ˜ ì—†ë‹¤.** <br>

```JAVA
@Component
public class OrderServiceImpl implements OrderService {
	@Autowired
	private MemberRepository memberRepository;
	@Autowired
	private DiscountPolicy discountPolicy;
}
```
<br><br>

ã…¤ã…¤**4ï¸âƒ£** ì¼ë°˜ ë©”ì„œë“œ ì£¼ì… <br>
ã…¤ã…¤ã…¤ğŸ”¹ **í•œë²ˆì— ì—¬ëŸ¬ í•„ë“œë¥¼ ì£¼ì… ë°›ì„ ìˆ˜ ìˆìŒ** <br>
ã…¤ã…¤ã…¤ğŸ”¹ **ì¼ë°˜ì ìœ¼ë¡œ ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ** <br>

```JAVA
@Component
public class OrderServiceImpl implements OrderService {
	private MemberRepository memberRepository;
	private DiscountPolicy discountPolicy;

	@Autowired
	public void init(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
		this.memberRepository = memberRepository;
		this.discountPolicy = discountPolicy;
	}
}
```
<br><br><br><br>



### ğŸ”· **ì˜ì¡´ê´€ê³„ ì£¼ì… ì˜µì…˜ ì²˜ë¦¬**
ã…¤ã…¤âœ” **`@Autowired(required=false)`**: ìë™ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ ìˆ˜ì •ì ë©”ì„œë“œ ìì²´ê°€ í˜¸ì¶œ ì•ˆë¨ <br>
```JAVA
@Autowired(required = false)
public void setNoBean1(Member member) {
	System.out.println("setNoBean1 = " + member);
}
```

ã…¤ã…¤âœ” **`org.springframework.lang.@Nullable`**: ìë™ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ nullì´ ì…ë ¥ë¨ <br>
```JAVA
@Autowired
public void setNoBean2(@Nullable Member member) {
	System.out.println("setNoBean2 = " + member);
}
```

ã…¤ã…¤âœ” **`Optional<>`**: ìë™ ì£¼ì…í•  ëŒ€ìƒì´ ì—†ìœ¼ë©´ Optional.empty ê°€ ì…ë ¥ë¨ <br>
```JAVA
@Autowired(required = false)
public void setNoBean3(Optional<Member> member) {
	System.out.println("setNoBean3 = " + member);
}
```
<br><br><br><br>


### ğŸ”· **ë¡¬ë³µ(lombok)**

ã…¤â“**ë¡¬ë³µ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì ìš© ë°©ë²•: `build.gradle`ì— ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° í™˜ê²½ ì¶”ê°€**<br>


ã…¤ã…¤âœ” **`@RequiredArgsConstructor`**: `final`ì´ ë¶™ì€ í•„ë“œë¥¼ ëª¨ì•„ì„œ ìƒì„±ìë¥¼ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ ì£¼ëŠ” ë¡¬ë³µ ë¼ì´ë¸ŒëŸ¬ë¦¬ <br>

```JAVA
// ê¸°ë³¸ ì½”ë“œ
@Component
public class OrderServiceImpl implements OrderService {
	private final MemberRepository memberRepository;
	private final DiscountPolicy discountPolicy;
	
	@Autowired
	public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
		this.memberRepository = memberRepository;
		this.discountPolicy = discountPolicy;
	}
}


// ë¡¬ë³µ ì ìš© ì½”ë“œ
@Component
@RequiredArgsConstructor
public class OrderServiceImpl implements OrderService {
	private final MemberRepository memberRepository;
	private final DiscountPolicy discountPolicy;
}
```
<br><br><br><br>

### ğŸ”· **ì¡°íšŒ ëŒ€ìƒ ë¹ˆì´ 2ê°œ ì´ìƒì¼ ë•Œ í•´ê²° ë°©ë²•**
ã…¤ã…¤âœ” **`@Autowired` í•„ë“œ ëª… ë§¤ì¹­** <br>
ã…¤ã…¤ã…¤ğŸ”¹ **@Autowired ëŠ” íƒ€ì… ë§¤ì¹­ì„ ì‹œë„í•˜ê³ , ì´ë•Œ ì—¬ëŸ¬ ë¹ˆì´ ìˆìœ¼ë©´ í•„ë“œ ì´ë¦„, íŒŒë¼ë¯¸í„° ì´ë¦„ìœ¼ë¡œ ë¹ˆ ì´ë¦„ì„ ì¶”ê°€ ë§¤ì¹­** <br>

```JAVA
@Autowired
private DiscountPolicy rateDiscountPolicy
```
<br><br>

ã…¤ã…¤âœ” **`@Qualifier` â†’ `@Qualifier`ë¼ë¦¬ ë§¤ì¹­ â†’ ë¹ˆ ì´ë¦„ ë§¤ì¹­** <br>
ã…¤ã…¤ã…¤ğŸ”¹ **`@Qualifier`ëŠ” ì¶”ê°€ êµ¬ë¶„ìë¥¼ ë¶™ì—¬ì£¼ëŠ” ë°©ë²•** <br>
ã…¤ã…¤ã…¤ğŸ”¹ @Qualifierë¼ë¦¬ ë§¤ì¹­ <br>
ã…¤ã…¤ã…¤ğŸ”¹ ë¹ˆ ì´ë¦„ ë§¤ì¹­ <br>
ã…¤ã…¤ã…¤ğŸ”¹ `NoSuchBeanDefinitionException` ì˜ˆì™¸ ë°œìƒ <br>

```JAVA
// ìƒì„±ì ìë™ ì£¼ì… ì˜ˆì‹œ
@Autowired
public OrderServiceImpl(MemberRepository memberRepository, @Qualifier("mainDiscountPolicy") DiscountPolicy discountPolicy) {
	this.memberRepository = memberRepository;
	this.discountPolicy = discountPolicy;
}


// ìˆ˜ì •ì ìë™ ì£¼ì… ì˜ˆì‹œ
@Autowired
public DiscountPolicy setDiscountPolicy(@Qualifier("mainDiscountPolicy") DiscountPolicy discountPolicy) {
	this.discountPolicy = discountPolicy;
}


// ì§ì ‘ ë¹ˆ ë“±ë¡ì‹œ
@Bean
@Qualifier("mainDiscountPolicy")
public DiscountPolicy discountPolicy() {
	return new ...
}
```
<br><br>

ã…¤ã…¤âœ” **`@Primary` ì‚¬ìš©** <br>
ã…¤ã…¤ã…¤ğŸ”¹ **`@Primary`ëŠ” ìš°ì„ ìˆœìœ„ë¥¼ ì •í•˜ëŠ” ë°©ë²•** <br>
ã…¤ã…¤ã…¤ğŸ”¹ **`@Autowired` ì‹œì— ì—¬ëŸ¬ ë¹ˆì´ ë§¤ì¹­ë˜ë©´ `@Primary`ê°€ ìš°ì„ ê¶Œì„ ê°€ì§„ë‹¤.** <br>

```JAVA
//ìƒì„±ì
@Autowired
public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
	this.memberRepository = memberRepository;
	this.discountPolicy = discountPolicy;
}


//ìˆ˜ì •ì
@Autowired
public DiscountPolicy setDiscountPolicy(DiscountPolicy discountPolicy) {
	this.discountPolicy = discountPolicy;
}
```
<br><br>

> [!TIP]
> **â—`@Primary`ëŠ” ê¸°ë³¸ê°’ ì²˜ëŸ¼ ë™ì‘í•˜ëŠ” ê²ƒì´ê³ , `@Qualifier`ëŠ” ë§¤ìš° ìƒì„¸í•˜ê²Œ ë™ì‘í•œë‹¤. `@Qualifier`ê°€ ìš°ì„ ê¶Œì´ ë†’ë‹¤.** <br>



<!--
ê³µë°±ë¬¸ì: "ã…¤" or &nbsp;
### ğŸ”· ****
>ã…¤âœ… **** <br>
ã…¤ã…¤:  <br>
ã…¤ã…¤ã…¤ex) <br>
ã…¤ã…¤âœ” **** <br>
ã…¤ã…¤ã…¤ğŸ”¹ **** <br>
ã…¤ã…¤ã…¤ã…¤ã…¤- **** <br>
â¡ï¸
ã…¤ã…¤ã…¤ã…¤ã…¤ex) <br>
ã…¤ã…¤â— <br>
ã…¤ã…¤â“ <br>
ã…¤ã…¤âœ… <br>
ã…¤ã…¤ã…¤ã…¤**â–ªï¸** <br>
ã…¤ã…¤ã…¤ã…¤**â–«ï¸** <br>
ã…¤ã…¤**1ï¸âƒ£** <br>
ã…¤ã…¤**2ï¸âƒ£** <br>
ã…¤ã…¤**3ï¸âƒ£** <br>
ã…¤ã…¤**4ï¸âƒ£** <br>
ã…¤ã…¤**5ï¸âƒ£** <br>
ã…¤ã…¤**ğŸ¤”** <br>
> [!NOTE]  
> [!TIP]
> [!IMPORTANT]  
> [!WARNING]  
> [!CAUTION]


**ğŸ’¡ ì˜ˆì‹œ**
```JAVA

```


<details><summary>ğŸ’¡ì˜ˆì‹œ ì½”ë“œ</summary>

```JAVA

```
</details>

<br>

<div align="center">
  <img width="70%" src="">
</div> <br><br>


<div align="center">
|****|****|
|:--:|:--:|
|||
</div> 

[^1]
-->
