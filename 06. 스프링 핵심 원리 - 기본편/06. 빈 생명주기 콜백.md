# 06. ë¹ˆ ìƒëª…ì£¼ê¸° ì½œë°±

> [!WARNING]
> ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ í’€ì´ë‚˜, ë„¤íŠ¸ì›Œí¬ ì†Œì¼“ì²˜ëŸ¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œì ì— í•„ìš”í•œ ì—°ê²°ì„ ë¯¸ë¦¬ í•´ë‘ê³ , ì• í”Œë¦¬ì¼€ì´ì…˜ <br>
> ì¢…ë£Œ ì‹œì ì— ì—°ê²°ì„ ëª¨ë‘ ì¢…ë£Œí•˜ëŠ” ì‘ì—…ì„ ì§„í–‰í•˜ë ¤ë©´, **ê°ì²´ì˜ ì´ˆê¸°í™”ì™€ ì¢…ë£Œ ì‘ì—…**ì´ í•„ìš”í•˜ë‹¤

<br>

### ğŸ”· **ë¹ˆ ìƒëª…ì£¼ê¸° ì½œë°±**
ã…¤ã…¤âœ” **ìŠ¤í”„ë§ ë¹ˆì˜ ì´ë²¤íŠ¸ ë¼ì´í”„ì‚¬ì´í´** <br><br>

ã…¤ã…¤ã…¤ã…¤" **ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ìƒì„± â†’ ìŠ¤í”„ë§ ë¹ˆ ìƒì„± â†’ ì˜ì¡´ê´€ê³„ ì£¼ì… â†’ ì´ˆê¸°í™” ì½œë°± â†’ ì‚¬ìš© â†’ ì†Œë©¸ì „ ì½œë°± â†’ ìŠ¤í”„ë§ ì¢…ë£Œ** " <br><br>

ã…¤ã…¤ã…¤ğŸ”¹ ìŠ¤í”„ë§ ë¹ˆì€ ê°ì²´ë¥¼ ìƒì„±í•˜ê³ , ì˜ì¡´ê´€ê³„ ì£¼ì…ì´ ë‹¤ ëë‚œ ë‹¤ìŒì—ì•¼ í•„ìš”í•œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¤€ë¹„ê°€ ì™„ë£Œëœë‹¤. <br>
ã…¤ã…¤ã…¤ã…¤ **ã…¤= ì´ˆê¸°í™” ì‘ì—…ì€ ì˜ì¡´ê´€ê³„ ì£¼ì…ì´ ëª¨ë‘ ì™„ë£Œë˜ê³  ë‚œ ë‹¤ìŒì— í˜¸ì¶œí•´ì•¼ í•œë‹¤** <br>
ã…¤ã…¤ã…¤ğŸ”¹ ìŠ¤í”„ë§ì€ ì˜ì¡´ê´€ê³„ ì£¼ì…ì´ ì™„ë£Œë˜ë©´ ìŠ¤í”„ë§ ë¹ˆì—ê²Œ **ì½œë°± ë©”ì„œë“œë¥¼ í†µí•´ì„œ ì´ˆê¸°í™” ì‹œì ì„ ì•Œë ¤ì£¼ëŠ”** ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì œê³µ <br>
ã…¤ã…¤ã…¤ğŸ”¹ ìŠ¤í”„ë§ì€ **ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ì¢…ë£Œë˜ê¸° ì§ì „ì— ì†Œë©¸ ì½œë°±** <br>
ã…¤ã…¤ã…¤ğŸ”¹ ë‹¨, **ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë¶€ë¶„ê³¼ ì´ˆê¸°í™” í•˜ëŠ” ë¶€ë¶„ì„ ëª…í™•í•˜ê²Œ ë‚˜ëˆ„ëŠ” ê²ƒ**ì´ ìš´ì˜ ë° ìœ ì§€ë³´ìˆ˜ ê´€ì ì—ì„œ ì¢‹ë‹¤ <br>

ã…¤ã…¤âœ” **ìŠ¤í”„ë§ì´ ì§€ì›í•˜ëŠ” ë¹ˆ ìƒëª…ì£¼ê¸° ì½œë°± ë°©ë²•** <br>
ã…¤ã…¤ã…¤ğŸ”¹ ì¸í„°í˜ì´ìŠ¤(InitializingBean, DisposableBean) <br>
ã…¤ã…¤ã…¤ğŸ”¹ ì„¤ì • ì •ë³´ì— ì´ˆê¸°í™” ë©”ì„œë“œ, ì¢…ë£Œ ë©”ì„œë“œ ì§€ì • <br>
ã…¤ã…¤ã…¤ğŸ”¹ **`@PostConstruct`, `@PreDestroy` ì• ë…¸í…Œì´ì…˜ ì§€ì›** <br><br><br><br>


### ğŸ”· **ì¸í„°í˜ì´ìŠ¤ InitializingBean, DisposableBean**

```JAVA
package hello.core.lifecycle;

import org.springframework.beans.factory.DisposableBean;
import org.springframework.beans.factory.InitializingBean;

// ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•œ ë°©ë²• (ì´ˆì°½ê¸° ë°©ë²•: ê±°ì˜ ì‚¬ìš© ì•ˆí•¨)
public class NetworkClient implements InitializingBean, DisposableBean {
    private String url;

    public NetworkClient() {
        System.out.println("ìƒì„±ì í˜¸ì¶œ, url = " + url);
        // ì´ˆê¸°í™” ë¶€ë¶„ì€ ë¶„ë¦¬í•˜ëŠ”ê±¸ ì¶”ì²œ
        //connect();
        //call("ì´ˆê¸°í™” ì—°ê²° ë©”ì‹œì§€");
    }

    public void setUrl(String url) {
        this.url = url;
    }

    // ì„œë¹„ìŠ¤ ì‹œì‘ì‹œ í˜¸ì¶œ
    public void connect() {
        System.out.println("connect: " + url);
    }

    public void call(String message) {
        System.out.println("call: " + url + " message = " + message);
    }

    // ì„œë¹„ìŠ¤ ì¢…ë£Œì‹œ í˜¸ì¶œ
    public void disconnect() {
        System.out.println("close: " + url);
    }


 # ì¸í„°í˜ì´ìŠ¤ InitializingBean, DisposableBean
   - ìŠ¤í”„ë§ ì „ìš© ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´
   - ì´ë¦„ ë³€ê²½ ë¶ˆê°€

    // InitializingBean - afterPropertiesSet: ë©”ì„œë“œ ì´ˆê¸°í™” ì§€ì›
    @Override
    public void afterPropertiesSet() throws Exception {
        connect();
        call("ì´ˆê¸°í™” ì—°ê²° ë©”ì‹œì§€");
    }

    // DisposableBean - destroy: ë©”ì„œë“œ ì†Œë©¸ ì§€ì›
    @Override
    public void destroy() throws Exception {
        disconnect();
    }
}

-- ì„¤ì • ì •ë³´
@Configuration
static class LifeCycleConfig {

    @Bean
    public NetworkClient networkClient() {
        NetworkClient networkClient = new NetworkClient();
        networkClient.setUrl("http://hello-spring.dev");
        return networkClient;
    }
```

ã…¤ã…¤âœ” **ì´ˆê¸°í™”, ì†Œë©¸ ì¸í„°í˜ì´ìŠ¤ ë‹¨ì ** <br>
ã…¤ã…¤ã…¤ğŸ”¹ **ìŠ¤í”„ë§ ì „ìš© ì¸í„°í˜ì´ìŠ¤**ì´ê¸°ì— í•´ë‹¹ ì½”ë“œê°€ ìŠ¤í”„ë§ ì „ìš© ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•œë‹¤. <br>
ã…¤ã…¤ã…¤ğŸ”¹ ì´ˆê¸°í™”, ì†Œë©¸ ë©”ì„œë“œì˜ **ì´ë¦„ì„ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.** <br>
ã…¤ã…¤ã…¤ğŸ”¹ ë‚´ê°€ ì½”ë“œë¥¼ ê³ ì¹  ìˆ˜ ì—†ëŠ” **ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì ìš©í•  ìˆ˜ ì—†ë‹¤.** <br><br><br><br>



### ğŸ”· **ì„¤ì • ì •ë³´ì— ì´ˆê¸°í™” ë©”ì„œë“œ, ì¢…ë£Œ ë©”ì„œë“œ ì§€ì •**

```JAVA
package hello.core.lifecycle;

public class NetworkClient {
    private String url;

    public NetworkClient() {
        System.out.println("ìƒì„±ì í˜¸ì¶œ, url = " + url);
        // ì´ˆê¸°í™” ë¶€ë¶„ì€ ë¶„ë¦¬í•˜ëŠ”ê±¸ ì¶”ì²œ
        //connect();
        //call("ì´ˆê¸°í™” ì—°ê²° ë©”ì‹œì§€");
    }

    public void setUrl(String url) {
        this.url = url;
    }

    // ì„œë¹„ìŠ¤ ì‹œì‘ì‹œ í˜¸ì¶œ
    public void connect() {
        System.out.println("connect: " + url);
    }

    public void call(String message) {
        System.out.println("call: " + url + " message = " + message);
    }

    // ì„œë¹„ìŠ¤ ì¢…ë£Œì‹œ í˜¸ì¶œ
    public void disconnect() {
        System.out.println("close: " + url);
    }


    /**
     * ë¹ˆ ë“±ë¡ ì´ˆê¸°í™”, ì†Œë©¸ ë©”ì„œë“œ ì§€ì •
     *  - ë©”ì„œë“œ ì´ë¦„ì„ ììœ ë¡­ê²Œ ì¤„ ìˆ˜ ìˆë‹¤
     *  - ìŠ¤í”„ë§ ë¹ˆì´ ìŠ¤í”„ë§ ì½”ë“œì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤.
     */
    public void init() {
        System.out.println("NetworkClient.init");
        connect();
        call("ì´ˆê¸°í™” ì—°ê²° ë©”ì‹œì§€");
    }

    public void close() {
        System.out.println("NetworkClient.close");
        disconnect();
    }
}

-- ì„¤ì • ì •ë³´

@Configuration
static class LifeCycleConfig {
    @Bean(initMethod = "init", destroyMethod = "close")
    public NetworkClient networkClient() {
        NetworkClient networkClient = new NetworkClient();
        networkClient.setUrl("http://hello-spring.dev");
        return networkClient;
    }
}
```

ã…¤ã…¤âœ” **ì„¤ì • ì •ë³´ ì‚¬ìš© íŠ¹ì§•** <br>
ã…¤ã…¤ã…¤ğŸ”¹ **ìŠ¤í”„ë§ ë¹ˆì´ ìŠ¤í”„ë§ ì½”ë“œì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤**<br>
ã…¤ã…¤ã…¤ğŸ”¹ **ë©”ì„œë“œ ì´ë¦„ì„ ììœ ë¡­ê²Œ ì¤„ ìˆ˜ ìˆë‹¤.** <br>
ã…¤ã…¤ã…¤ğŸ”¹ ì½”ë“œê°€ ì•„ë‹ˆë¼ ì„¤ì • ì •ë³´ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì½”ë“œë¥¼ ê³ ì¹  ìˆ˜ ì—†ëŠ” **ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ë„ ì ìš©í•  ìˆ˜ ìˆë‹¤.** <br><br><br><br>

### ğŸ”· **`@PostConstruct`, `@PreDestroy` ì• ë…¸í…Œì´ì…˜ ì§€ì›**

```JAVA
package hello.core.lifecycle;

import jakarta.annotation.PostConstruct;
import jakarta.annotation.PreDestroy;

public class NetworkClient {
    private String url;

    public NetworkClient() {
        System.out.println("ìƒì„±ì í˜¸ì¶œ, url = " + url);
        // ì´ˆê¸°í™” ë¶€ë¶„ì€ ë¶„ë¦¬í•˜ëŠ”ê±¸ ì¶”ì²œ
        //connect();
        //call("ì´ˆê¸°í™” ì—°ê²° ë©”ì‹œì§€");
    }

    public void setUrl(String url) {
        this.url = url;
    }

    // ì„œë¹„ìŠ¤ ì‹œì‘ì‹œ í˜¸ì¶œ
    public void connect() {
        System.out.println("connect: " + url);
    }

    public void call(String message) {
        System.out.println("call: " + url + " message = " + message);
    }

    // ì„œë¹„ìŠ¤ ì¢…ë£Œì‹œ í˜¸ì¶œ
    public void disconnect() {
        System.out.println("close: " + url);
    }

    /**
     * ì• ë…¸í…Œì´ì…˜ @PostConstruct, @PreDestroy    - ì´ ë°©ë²• ê°€ì¥ ì¶”ì²œ
     *  - ì• ë…¸í…Œì´ì…˜ í•˜ë‚˜ë§Œ ë¶™ì´ë©´ ë˜ë¯€ë¡œ ë§¤ìš° í¸ë¦¬
     *  - ìŠ¤í”„ë§ì´ ì•„ë‹Œ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì—ì„œë„ ë™ì‘
     *  - ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ê³¼ ì˜ ì–´ìš¸ë¦°ë‹¤.
     *  - ìœ ì¼í•œ ë‹¨ì ì€ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ëŠ” ì ìš©í•˜ì§€ ëª»í•œë‹¤ëŠ” ê²ƒ (ì´ˆê¸°í™”, ì¢…ë£Œí•´ì•¼ í•˜ë©´ @Bean ì˜ initMethod , destroyMethod ë¥¼ ì‚¬ìš©)
     */
    @PostConstruct
    public void init() {
        System.out.println("NetworkClient.init");
        connect();
        call("ì´ˆê¸°í™” ì—°ê²° ë©”ì‹œì§€");
    }

    @PreDestroy
    public void close() {
        System.out.println("NetworkClient.close");
        disconnect();
    }
}


-- ì„¤ì • ì •ë³´

@Configuration
static class LifeCycleConfig {
    @Bean
    public NetworkClient networkClient() {
        NetworkClient networkClient = new NetworkClient();
        networkClient.setUrl("http://hello-spring.dev");
        return networkClient;
    }
}
```

ã…¤ã…¤âœ” **`@PostConstruct`, `@PreDestroy` ì• ë…¸í…Œì´ì…˜ íŠ¹ì§•** <br>
ã…¤ã…¤ã…¤ğŸ”¹ ìµœì‹  ìŠ¤í”„ë§ì—ì„œ ê°€ì¥ ê¶Œì¥í•˜ëŠ” ë°©ë²• <br>
ã…¤ã…¤ã…¤ğŸ”¹ **ì• ë…¸í…Œì´ì…˜ í•˜ë‚˜ë§Œ ë¶™ì´ë©´ ë˜ë¯€ë¡œ ë§¤ìš° í¸ë¦¬í•¨** <br>
ã…¤ã…¤ã…¤ğŸ”¹ **ìŠ¤í”„ë§ì´ ì•„ë‹Œ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì—ì„œë„ ë™ì‘** <br>
ã…¤ã…¤ã…¤ğŸ”¹ **ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ê³¼ ì˜ ì–´ìš¸ë¦°ë‹¤.** <br>
ã…¤ã…¤ã…¤ğŸ”¹ ë‹¨, **ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ëŠ” ì ìš©í•˜ì§€ ëª»í•œë‹¤**<br>
ã…¤ã…¤ã…¤ã…¤ã…¤- ì½”ë“œë¥¼ ê³ ì¹  ìˆ˜ ì—†ëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ˆê¸°í™”, ì¢…ë£Œí•´ì•¼ í•˜ë©´ **`@Bean`ì˜ `initMethod`, `destroyMethod` ì‚¬ìš©** <br>

<!--
ê³µë°±ë¬¸ì: "ã…¤" or &nbsp;
### ğŸ”· ****
>ã…¤âœ… **** <br>
ã…¤ã…¤:  <br>
ã…¤ã…¤ã…¤ex) <br>
ã…¤ã…¤âœ” **** <br>
ã…¤ã…¤ã…¤ğŸ”¹ **** <br>
ã…¤ã…¤ã…¤ã…¤ã…¤- **** <br>
â¡ï¸
ã…¤ã…¤ã…¤ã…¤ã…¤ex) <br>
ã…¤ã…¤â— <br>
ã…¤ã…¤â“ <br>
ã…¤ã…¤âœ… <br>
ã…¤ã…¤ã…¤ã…¤**â–ªï¸** <br>
ã…¤ã…¤ã…¤ã…¤**â–«ï¸** <br>
ã…¤ã…¤**1ï¸âƒ£** <br>
ã…¤ã…¤**2ï¸âƒ£** <br>
ã…¤ã…¤**3ï¸âƒ£** <br>
ã…¤ã…¤**4ï¸âƒ£** <br>
ã…¤ã…¤**5ï¸âƒ£** <br>
ã…¤ã…¤**ğŸ¤”** <br>
> [!NOTE]  
> [!TIP]
> [!IMPORTANT]  
> [!WARNING]  
> [!CAUTION]


**ğŸ’¡ ì˜ˆì‹œ**
```JAVA

```


<details><summary>ğŸ’¡ì˜ˆì‹œ ì½”ë“œ</summary>

```JAVA

```
</details>

<br>

<div align="center">
  <img width="70%" src="">
</div> <br><br>


<div align="center">
|****|****|
|:--:|:--:|
|||
</div> 

[^1]
-->
