# 05. HTTP 상태코드

### 🔷 **HTTP 상태코드**
>ㅤ✅ **클라이언트가 보낸 요청의 처리 상태를 응답에서 알려주는 기능** <br>

ㅤㅤ✔ **1xx (Informational)**: 요청이 수신되어 처리중 <br>
ㅤㅤㅤ🔹 거의 사용하지 않으므로 생략 <br>

ㅤㅤ✔ **2xx (Successful)**: 클라이언트의 요청을 성공적으로 처리 <br>
ㅤㅤㅤ🔹 **`200` OK**: 요청 성공 <br>
ㅤㅤㅤ🔹 **`201` Created**: 요청 성공해서 새로운 리소스가 생성됨 <br>
ㅤㅤㅤㅤㅤ- 생성된 리소스는 응답의 `Location` 헤더 필드로 식별 <br>
ㅤㅤㅤ🔹 **`202` Accepted**: 요청이 접수되었으나 처리가 완료되지 않았음 <br>
ㅤㅤㅤㅤㅤ- 배치 처리 같은 곳에서 사용 `ex. 요청 접수 후 1시간 뒤에 배치 프로세스가 요청을 처리` <br>
ㅤㅤㅤ🔹 **`204` No Content**: 서버가 요청을 성공적으로 수행했지만, 응답 페이로드 본문에 보낼 데이터가 없음<br>
ㅤㅤㅤㅤㅤ- 웹 문서 편집기에서 `save` 버튼 처럼, 결과 내용이 없어도 204 메시지(2xx)만으로 성공을 인식 <br>
ㅤㅤㅤㅤㅤ- `save` 버튼을 누른 결과로 아무 내용 없어도 됨 / 변경 사항 없이 같은 화면 유지 <br>

ㅤㅤ✔ **3xx (Redirection)**: 요청을 완료하기 위해 유저 에이전트의 추가 조치 필요 <br>
ㅤㅤㅤ🔹 `300` Multiple Choices <br>
ㅤㅤㅤ🔹 **`301` Moved Permanently** <br>
ㅤㅤㅤ🔹 **`302` Found** <br>
ㅤㅤㅤ🔹 `303` See Other <br>
ㅤㅤㅤ🔹 **`304` Not Modified** <br>
ㅤㅤㅤ🔹 `307` Temporary Redirect <br>
ㅤㅤㅤ🔹 **`308` Permanent Redirect** <br>

ㅤㅤ✔ **4xx (Client Error)**: `클라이언트 오류`, 잘못된 문법등으로 서버가 요청을 수행할 수 없음 <br>
ㅤㅤㅤ🔹 **오류의 원인이 클라이언트에 있음** - 클라이언트의 요청에 잘못된 문법등으로 서버가 요청을 수행할 수 없음 <br>
ㅤㅤㅤㅤㅤ- 클라이언트가 이미 잘못된 요청, 데이터를 보내고 있기 때문에, 똑같은 재시도가 실패함(복구 불가함) <br>
ㅤㅤㅤ🔹 **`400` Bad Request**: 클라이언트가 잘못된 요청을 해서 서버가 요청을 처리할 수 없음 <br>
ㅤㅤㅤㅤㅤ- 요청 구문, 메시지 등등 오류ㅤ`ex. 요청 파라미터가 잘못되거나, API 스펙이 맞지 않을 때` <br>
ㅤㅤㅤㅤㅤ- 클라이언트는 요청 내용을 다시 검토하고, 보내야함 <br>
ㅤㅤㅤ🔹 **`401` Unauthorized**: 클라이언트가 해당 리소스에 대한 인증이 필요함 <br>
ㅤㅤㅤㅤㅤ- 인증(Authentication)[^1] 되지 않음 <br>
ㅤㅤㅤㅤㅤ- 401 오류 발생시 응답에 WWW-Authenticate 헤더와 함께 인증 방법을 설명 <br>
ㅤㅤㅤㅤㅤ-  <br>
ㅤㅤㅤ🔹 **`403` Forbidden**: 서버가 요청을 이해했지만 승인을 거부함 <br>
ㅤㅤㅤㅤㅤ- 주로 인증 자격 증명은 있지만, 접근 권한이 불충분한 경우 <br>
ㅤㅤㅤ🔹 **`404` Not Found**: 요청 리소스를 찾을 수 없음 <br>
ㅤㅤㅤㅤㅤ- 요청 리소스가 서버에 없음 <br>
ㅤㅤㅤㅤㅤ- 클라이언트가 권한이 부족한 리소스에 접근할 때 해당 리소스를 숨기고 싶을 때 <br>

[^1]: **인증(Authentication): 본인이 누구인지 확인, (로그인)** /  **인가(Authorization): 권한부여** (ADMIN 권한처럼 특정 리소스에 접근할 수 있는 권한, 인증이 있어야 인가가 있음)

ㅤㅤ✔ **5xx (Server Error)**: `서버 오류`, 서버가 정상 요청을 처리하지 못함 <br>
ㅤㅤㅤ🔹 **서버 문제로 오류 발생**  <br>
ㅤㅤㅤㅤㅤ- 서버에 문제가 있기 때문에 재시도 하면 성공할 수도 있음 (복구 가능성 있음) <br>
ㅤㅤㅤㅤㅤ- 반드시 비즈니스 로직 상 예외 케이스가 아닌 서버에 문제가 발생한 경우만 5xx 오류를 사용해야 한다. <br>
ㅤㅤㅤ🔹 **`500` Internal Server Error**: 서버 문제로 오류 발생, 애매하면 500 오류 <br>
ㅤㅤㅤ🔹 **`503` Service Unavailable**: 서비스 이용 불가 <br>
ㅤㅤㅤㅤㅤ- 서버가 일시적인 과부하 또는 예정된 작업으로 잠시 요청을 처리할 수 없음 <br>
ㅤㅤㅤㅤㅤ- Retry-After 헤더 필드로 얼마뒤에 복구되는지 보낼 수도 있음 <br>

<br><br><br>

### 🔷 **Redirection**
>ㅤ✅ **웹 브라우저는 3xx 응답의 결과에 Location 헤더가 있으면, Location 위치로 자동 이동(redirect; =`위치 정보 최신화`)** <br>

<br><div align="center">
  <img width="70%" src="https://github.com/user-attachments/assets/4ed24af0-1e93-4339-812e-147d0d56b1d0">
</div> <br><br>

ㅤㅤ✔ **영구 리다이렉션**: 특정 리소스의 URI가 영구적으로 이동ㅤ`ex. /members -> /users`<br>
ㅤㅤㅤ🔹 리소스의 URI가 **영구적으로 이동**. 원래의 URL를 사용하면 안됨, 검색 엔진 등에서도 변경 인지 <br>
ㅤㅤㅤ🔹 **`301` Moved Permanently** <br>
ㅤㅤㅤㅤㅤ- **리다이렉트시 요청 메서드가 GET으로 변하고, 본문이 제거될 수 있음(MAY)** <br>
ㅤㅤㅤ🔹 **`308` Permanent Redirect** <br>
ㅤㅤㅤㅤㅤ- 301과 기능은 같음 (메시지가 전달 되더라도 리소스가 바뀌어서 소용없음) <br>
ㅤㅤㅤㅤㅤ- **리다이렉트시 요청 메서드와 본문 유지(처음 POST를 보내면 리다이렉트도 POST 유지)** <br>

<br><div align="center">
  <img width="98%" src="https://github.com/user-attachments/assets/da75409e-811e-4ca1-a938-a8031f8fd078">
</div> <br><br>

ㅤㅤ✔ **일시 리다이렉션**: 리소스의 URI가 일시적으로 변경ㅤ`ex. 주문 완료 후 주문 내역 화면으로 이동`<br>
ㅤㅤㅤ🔹 **`302` Found** <br>
ㅤㅤㅤㅤㅤ- **리다이렉트시 요청 메서드가 GET으로 변하고, 본문이 제거될 수 있음(MAY)** <br>
ㅤㅤㅤ🔹 **`303` See Other** <br>
ㅤㅤㅤㅤㅤ- 302와 기능은 같음 <br>
ㅤㅤㅤㅤㅤ- **리다이렉트시 요청 메서드가 GET으로 변경** <br>
ㅤㅤㅤ🔹 **`307` Temporary Redirect** <br>
ㅤㅤㅤㅤㅤ- 302와 기능은 같음 <br>
ㅤㅤㅤㅤㅤ- **리다이렉트시 요청 메서드와 본문 유지(요청 메서드를 변경하면 안된다. MUST NOT)** <br>

ㅤㅤㅤ🔹 **PRG: Post/Redirect/Get** <br>
ㅤㅤㅤㅤㅤ- 일시적인 리다이렉션 예시 <br>
ㅤㅤㅤㅤㅤㅤex) POST로 주문후에 새로 고침으로 인한 중복 주문 방지 <br>
ㅤㅤㅤㅤㅤㅤ➡️ POST로 주문후에 주문 결과 화면을 GET 메서드로 리다이렉트 <br>
ㅤㅤㅤㅤㅤㅤ➡️ 새로고침해도 결과 화면을 GET으로 조회 <br>
ㅤㅤㅤㅤㅤㅤ➡️ 중복 주문 대신에 결과 화면만 GET으로 다시 요청 <br>

<br><div align="center">
  <img width="98%" src="https://github.com/user-attachments/assets/c308f0c6-0ac9-43ee-a860-d5143328d380">
</div> <br><br>

ㅤㅤ✅ **결론: `307`, `303`을 권장하지만 현실적으로 이미 많은 애플리케이션 라이브러리들이 `302`를 기본값으로 사용** <br>

ㅤㅤ✔ **특수 리다이렉션**: 결과 대신 캐시를 사용 <br>
ㅤㅤㅤ🔹 **`300` Multiple Choices**: 거의 안 씀 <br>
ㅤㅤㅤ🔹 **`304` Not Modified**: 자주 사용 됨. 캐시를 목적으로 사용.  <br>
ㅤㅤㅤㅤㅤ- **클라이언트에게 리소스가 수정되지 않았음을 알려줌 → `캐시로 리다이렉트`** <br>
ㅤㅤㅤㅤㅤ- **304 응답은 응답에 메시지 바디를 포함하면 안된다. (로컬 캐시를 사용해야 하기 때문)** <br>
ㅤㅤㅤㅤㅤ- 조건부 GET, HEAD 요청시 사용 <br>

<!--
공백문자: "ㅤ" or &nbsp; →
### 🔷 ****
>ㅤ✅ **** <br>
ㅤㅤ:  <br>
ㅤㅤㅤex) <br>
ㅤㅤ✔ **** <br>
ㅤㅤㅤ🔹 **** <br>
ㅤㅤㅤㅤㅤ- **** <br>
ㅤㅤㅤㅤㅤㅤex) <br>
➡️
ㅤㅤ❗ <br>
ㅤㅤ❓ <br>
ㅤㅤ✅ <br>
ㅤㅤㅤㅤ**▪️** <br>
ㅤㅤㅤㅤ**▫️** <br>
ㅤㅤ**1️⃣** <br>
ㅤㅤ**2️⃣** <br>
ㅤㅤ**3️⃣** <br>
ㅤㅤ**4️⃣** <br>
ㅤㅤ**5️⃣** <br>
ㅤㅤ**🤔** <br>
> [!NOTE]  
> [!TIP]
> [!IMPORTANT]  
> [!WARNING]  
> [!CAUTION]


**💡 예시**
```JAVA

```


<details><summary>💡예시 코드</summary>

```JAVA

```
</details>

<br><div align="center">
  <img width="70%" src="">
</div> <br><br>


<div align="center">
|****|****|
|:--:|:--:|
|||
</div> 

[^1]
-->
